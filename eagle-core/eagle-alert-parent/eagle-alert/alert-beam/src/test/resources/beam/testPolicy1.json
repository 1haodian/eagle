{
  "name": "policy4",
  "description": "测试策略",
  "inputStreams": [
    "oozieStream"
  ],
  "outputStreams": [
    "testAlertStream"
  ],
  "siteId": "yhd",
  "definition": {
    "type": "siddhi",
    "value": "from oozieStream#window.externalTime(timestamp, 4 sec)  select ip, jobId , operation, count(ip) as visitCount group by operation insert into testAlertStream; ",
    "handlerClass": null,
    "properties": {},
    "inputStreams": [],
    "outputStreams": []
  },
  "stateDefinition": null,
  "policyStatus": "ENABLED",
  "alertDefinition": {
    "templateType": "TEXT",
    "subject": "",
    "body": "",
    "severity": "WARNING",
    "category": "DEFAULT"
  },
  "partitionSpec": [
    {
      "streamId": "oozieStream",
      "type": "GROUPBY",
      "columns": ["operation"],
      "sortSpec": {
        "windowPeriod": "PT4S",
        "windowMargin": 1000
      }
    }
  ],
  "dedicated": false,
  "parallelismHint": 5,
  "alertSeverity": "WARNING",
  "alertCategory": "DEFAULT"
}